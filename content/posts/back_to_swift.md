---
title: "久しぶりのiOSアプリ"
date: 2017-12-11T15:43:02+09:00
tags: ["swift", "iOS"]
categories: ["N.Yamamoto"]
---

## 出戻り Swift

<br />
先日、昔（個人事業主をしてた時に）作ったiOSアプリがストアから消えてるんですけど  
というような連絡を受けました。  
何年も前に作りぱなしにしてたので、iOS11リリース頃に消されています。  
<br />
最近iOSアプリ開発をしていなかったので、この機会にSwiftでアプリを作ってみます。  
とりあえず、遊びで作った15パズルをSwiftで作り直します。  
昔の素材を引っ張り出すのが面倒なので、１からつくります。  
<br />
#### 1.素材の準備
<br />
1〜15の数字が書かれた正方形の画像をサイズ違いで３枚毎。（270x270 / 180x180 / 90x90）  
<br />
#### 2.Swiftの書き方を復習
<br />
Swift初心者なので、とりあえずオプショナル型の使い方をググる  
[どこよりも分かりやすいSwiftの"?"と"!"](https://qiita.com/maiki055/items/b24378a3707bd35a31a8)  
ここがわかり易かったです。  
<br />
var / letの違い  
メソッドの書き方  
このくらいを調べる  
<br />
#### 3.Xcodeでプロジェクト作成
<br />
Xcodeを開いてアプリ開発開始　XcodeからSingle View Appのプロジェクトで新規作成  
<br />
ストーリーボードを開いて、360x360のビューを配置  
<br />
その上に90x90のボタンを左上から15個並べる。(右下が1個分空く)  
<br />
作った素材（1〜15の画像）をプロジェクトに登録  
<br />
ボタンに画像を設定  
<br />
ボタンに画像を指定してもうまく読み込まれない？実機で動かすと画像が表示されない。  
Assetsに画像を登録してやるとうまく言ったので、それでよしとする。  
<br />
ボタンの動きを作成（押された時に空きスペースが上下左右にあれば移動）  
移動が終わったら全てのボタンが正しく並んでいるか判断。並んでいれば終了  
<br />
シャッフルボタンを作成して、並びをぐちゃぐちゃにする動きを追加  
<br />
タイマーを追加してシャッフルボタンが押されてから並びが正しくなるまで  
タイマー表示する機能を追加  
<br />
終わったらComplete画面を表示。ベストタイムを保持。  
<br />
だいたいこんな感じで動くものができました。
<br />
<br />
<br />
#### 4.Swiftで作ってとまどったところ
<br />
オプショナル型のところ  
Viewアニメーションの書き方  
UIColorとか指定方法が変わった箇所  
<br />
#### 5.アプリの申請
<br />
アプリの申請手順をかなり忘れていて、少し手こずりました。  
それはまた別の機会に。
<br />
<br />
<br />
